<div data-fallback-select="{{ fallback_value }}">
<select{% include "django/forms/widgets/attrs.html" %}>
  {% for group_name, group_choices, group_index in widget.optgroups %}
    {% if group_name %}<optgroup label="{{ group_name }}">{% endif %}
      {% for option in group_choices %}
        {% include option.template_name with widget=option %}
      {% endfor %}
    {% if group_name %}</optgroup>{% endif %}{% endfor %}
</select>
<input type="{{ widget.type }}"
       {% if show_fallback %} value="{{ widget.value.0|stringformat:'s' }}"{% endif %}
       style="display: {{ show_fallback|yesno:"inline-block,none" }};"
       class="fallback"
>
<input type="hidden" class="real" name="{{ widget.name }}" value="{{ widget.value.0|stringformat:'s' }}">
</div>